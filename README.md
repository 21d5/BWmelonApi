﻿# ﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿Node-bwmelonapi## 说明一个基于Express框架的api接口，包括短网址生成、短网址还原、二维码生成、二维码识别解析、网站标题获取、ICP备案查询、QQ信息获取、一言、必应每日一图。## 演示网站还没有写## 使用```$ npm install###启动项目，默认端口为3000$ node index.js```## TODO- [ ] 前台文档页面- [ ] 接口使用次数统计- [ ] 接口调用频率限制- [ ] ip黑名单- [ ] 后台自定义接口的开启与关闭- [ ] 加入更多接口## 文档### 短网址生成接口：`http://127.0.0.1:3000/api/tinyurl/urlcn/longurl=``http://127.0.0.1:3000/api/tinyurl/tcn/longurl=`示例：`http://127.0.0.1:3000/api/tinyurl/urlcn/?longurl=http://api.no0a.cn`返回：```{    "status": 1,    "tinyurl": "https://url.cn/5fpMHji"}```### 短网址还原接口：`http://127.0.0.1:3000/api/longurl/query?tinyurl=`示例：`http://127.0.0.1:3000/api/longurl/query?tinyurl=https://t.cn/AiYNrqef`返回：```{    "status": 1,    "longurl": "http://api.no0a.cn/"}```### 二维码生成接口：`http://127.0.0.1:3000/api/qrcode/query?url=`示例：`http://127.0.0.1:3000/api/qrcode/query?url=http://api.no0a.cn`返回：```直接返回png格式的二维码```### 二维码识别解析：接口：`http://127.0.0.1:3000/api/qrdecode/query?imgurl=`示例：`http://127.0.0.1:3000/api/qrdecode/query?imgurl=https://imgs.bwmelon.com/20190803222039.png`返回：```{    "status": 1,    "qrurl": "https://i.qianbao.qq.com/wallet/sqrcode.htm?m=tenpay&f=wallet&a=1&ac=CAEQl4jHtQUYz93y6AU%3D_xxx_sign&u=1454490647&n=%E6%89%93%EF%BC%8C%E6%89%93%E4%B8%AA%E5%A4%A7%E8%A5%BF%E7%93%9C%E3%80%80"}```### 网站标题获取：接口：`http://127.0.0.1:3000/api/sitetitle/query?url=`示例：`http://127.0.0.1:3000/api/sitetitle/query?url=https://qr.no0a.cn`返回：```{    "status": 1,    "title": "大西瓜三合一收款码"}```###ICP备案查询：接口：`http://127.0.0.1:3000/api/icp/query?domain=`示例：`http://127.0.0.1:3000/api/icp/query?domain=qq.com`返回：```{    "status": 1,    "info": {        "name": "深圳市腾讯计算机系统有限公司",        "properties": "企业",        "icp": "粤B2-20090059-5",        "title": "腾讯网",        "people": "--",        "time": "2019/8/1 0:00:00"    }}```### QQ信息获取：接口：`http://127.0.0.1:3000/api/qqinfo/qq`示例：`http://127.0.0.1:3000/api/qqinfo/10001`返回：```{    "status": 1,    "qqinfo": {        "nickname": "pony",        "qqavatar": "http://q1.qlogo.cn/g?b=qq&s=640&nk=10001"    }}```### 一言：接口：`http://127.0.0.1:3000/api/onenote/query`示例：`http://127.0.0.1:3000/api/onenote/query`返回：```{    "status": 1,    "onenote": "你说你会爱我一辈子，我真傻，居然忘了问是这辈子还是下辈子。"}```### 必应每日一图：接口：`http://127.0.0.1:3000/api/bing/day`day为时间，0表示当天，1-7表示过去的1-7天，最多为过去7天示例：`http://127.0.0.1:3000/api/bing/0``http://127.0.0.1:3000/api/bing/1``http://127.0.0.1:3000/api/bing/3``http://127.0.0.1:3000/api/bing/7`返回：```    "status": 1,    "bing": {        "url": "http://s.cn.bing.net/th?id=OHR.UhuRLP_ZH-CN5421658032_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp",        "copyright": "野花草甸上的一只欧亚雕鸮，德国莱茵兰-普法尔茨 (© Rosl Roessner/Minden Pictures)"    }}```